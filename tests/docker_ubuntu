FROM ubuntu

# do not exclude man pages and documentation... this is a Docker-specific thing
RUN rm /etc/dpkg/dpkg.cfg.d/excludes

RUN apt-get update && apt-get install -y man manpages-dev manpages-posix-dev git python3 python3-pip gcc locales-all gcc-multilib

RUN pip3 install /test

ENV LC_ALL en_US.UTF-8
ENV LC_LANG en_US.UTF-8

# just some simple tests
CMD syscall_number -s read -b 32; syscall_number -a -b 64; syscall_number -s write -b 32 -m